2022-03-22 22:02:51,498 INFO werkzeug  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
2022-03-22 22:05:21,525 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 0, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': True}, 'request': {'command': '', 'original_utterance': '', 'nlu': {'tokens': [], 'entities': [], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-22 22:05:21,529 INFO root Request: {'session': {'message_id': 0, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': True}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Привет! Я могу показать город или сказать расстояние между городами!'}}
2022-03-22 22:05:21,535 INFO werkzeug 127.0.0.1 - - [22/Mar/2022 22:05:21] "[37mPOST /post HTTP/1.1[0m" 200 -
2022-03-22 22:05:29,308 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 1, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': False}, 'request': {'command': 'париж', 'original_utterance': 'Париж', 'nlu': {'tokens': ['париж'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'париж'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-22 22:05:29,714 INFO root Request: {'session': {'message_id': 1, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': False}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Этот город в стране - Франция'}}
2022-03-22 22:05:29,714 INFO werkzeug 127.0.0.1 - - [22/Mar/2022 22:05:29] "[37mPOST /post HTTP/1.1[0m" 200 -
2022-03-22 22:06:09,219 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 2, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': False}, 'request': {'command': 'минск', 'original_utterance': 'Минск', 'nlu': {'tokens': ['минск'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'минск'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-22 22:06:09,450 INFO root Request: {'session': {'message_id': 2, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': False}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Этот город в стране - Беларусь'}}
2022-03-22 22:06:09,450 INFO werkzeug 127.0.0.1 - - [22/Mar/2022 22:06:09] "[37mPOST /post HTTP/1.1[0m" 200 -
2022-03-22 22:06:21,903 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 3, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'new': False, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'request': {'command': 'минск киев', 'original_utterance': 'Минск Киев', 'nlu': {'tokens': ['минск', 'киев'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'минск'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 2}, 'value': {'city': 'киев'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-22 22:06:22,405 INFO root Request: {'session': {'message_id': 3, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'new': False, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Расстояние между этими городами: 434 км.'}}
2022-03-22 22:06:22,405 INFO werkzeug 127.0.0.1 - - [22/Mar/2022 22:06:22] "[37mPOST /post HTTP/1.1[0m" 200 -
2022-03-22 22:06:32,739 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 4, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'new': False, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'request': {'command': 'москва киев', 'original_utterance': 'Москва Киев', 'nlu': {'tokens': ['москва', 'киев'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 2}, 'value': {'city': 'киев'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-22 22:06:33,224 INFO root Request: {'session': {'message_id': 4, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'new': False, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Расстояние между этими городами: 756 км.'}}
2022-03-22 22:06:33,242 INFO werkzeug 127.0.0.1 - - [22/Mar/2022 22:06:33] "[37mPOST /post HTTP/1.1[0m" 200 -
2022-03-22 22:20:43,935 INFO werkzeug  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
2022-03-22 22:21:10,905 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 5, 'session_id': '3c09cd2d-bf59-44a7-b733-eaa5c9bc8e18', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': False}, 'request': {'command': 'москва киев', 'original_utterance': 'Москва Киев', 'nlu': {'tokens': ['москва', 'киев'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 2}, 'value': {'city': 'киев'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-22 22:21:11,589 ERROR main Exception on /post [POST]
Traceback (most recent call last):
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "c:\Users\vsham\Desktop\Alice\main.py", line 26, in main
    handle_dialog(response, request.json)
  File "c:\Users\vsham\Desktop\Alice\main.py", line 45, in handle_dialog
    distance = get_distance(get_geo_info(
  File "c:\Users\vsham\Desktop\Alice\geo.py", line 40, in get_distance
    lon1 = math.radians(p1[0])
TypeError: must be real number, not str
2022-03-22 22:21:11,649 INFO werkzeug 127.0.0.1 - - [22/Mar/2022 22:21:11] "[35m[1mPOST /post HTTP/1.1[0m" 500 -
2022-03-22 22:21:52,733 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 0, 'session_id': 'f2347f10-5622-400a-9a29-06673822ccbf', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': True}, 'request': {'command': '', 'original_utterance': '', 'nlu': {'tokens': [], 'entities': [], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-22 22:21:52,736 INFO root Request: {'session': {'message_id': 0, 'session_id': 'f2347f10-5622-400a-9a29-06673822ccbf', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': True}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Привет! Я могу показать город или сказать расстояние между городами!'}}
2022-03-22 22:21:52,736 INFO werkzeug 127.0.0.1 - - [22/Mar/2022 22:21:52] "[37mPOST /post HTTP/1.1[0m" 200 -
2022-03-22 22:22:03,568 INFO root Request: {'meta': {'locale': 'ru-RU', 'timezone': 'UTC', 'client_id': 'ru.yandex.searchplugin/7.16 (none none; android 4.4.2)', 'interfaces': {'screen': {}, 'payments': {}, 'account_linking': {}}}, 'session': {'message_id': 1, 'session_id': 'f2347f10-5622-400a-9a29-06673822ccbf', 'skill_id': 'f3760eb7-94ec-43f1-8d19-eb5a0ce1caa7', 'user': {'user_id': '64ACF94B0BFE797780A0DCEDE0EC255457AA7B461A3A3C028F61F09A077712DD'}, 'application': {'application_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75'}, 'user_id': '06EC3E7B0DEB39F88BEBA9D16B26A7B9507B39472788D53C9D3A8AF7F0F7FB75', 'new': False}, 'request': {'command': 'москва', 'original_utterance': 'Москва', 'nlu': {'tokens': ['москва'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}], 'intents': {}}, 'markup': {'dangerous_context': False}, 'type': 'SimpleUtterance'}, 'version': '1.0'}
2022-03-22 22:22:03,887 ERROR main Exception on /post [POST]
Traceback (most recent call last):
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\vsham\AppData\Roaming\Python\Python38\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "c:\Users\vsham\Desktop\Alice\main.py", line 26, in main
    handle_dialog(response, request.json)
  File "c:\Users\vsham\Desktop\Alice\main.py", line 42, in handle_dialog
    res['response']['text'] = 'Этот город в стране - ' + \
TypeError: can only concatenate str (not "tuple") to str
2022-03-22 22:22:03,897 INFO werkzeug 127.0.0.1 - - [22/Mar/2022 22:22:03] "[35m[1mPOST /post HTTP/1.1[0m" 500 -
